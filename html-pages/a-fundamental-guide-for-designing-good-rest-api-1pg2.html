<p>We live in a world where everything from applications to websites use exposes API to communicate with backend servers. Therefore, REST API plays an important role in the system and it is crucial to take care of and design it carefully so we won’t fall into problems such as security, performance issues, or make it difficult for our client to use.</p>
<p>A well-written API should provide a clear, consistent, and intuitive interface for developers to interact with it. Developers who design API should aim to:</p>
<ol>
<li>Simplicity: API should easy to understand and can be used with minimal effort.</li>
<li>Consistency: Naming conventions, response format, and error handling should format correctly between APIs.</li>
<li>Flexibility: API can be used by any client regardless of what platform the client uses.</li>
<li>Scalability: REST API should able to evolve and work independently from its clients.</li>
</ol>
<p>In today’s article, we’ll look into 5 best practices for <a href="https://junedang.com/api-implementation-code-first-or-design-first/">designing API</a> for developers to achieve the above criteria.</p>
<h2>What is REST API?</h2>
<p>Ok, before diving into the list of best practices. Let’s review the meaning of “REST API”. If you are already familiar with this term then you can skip this section.</p>
<p>A REST will stand for <strong>REpresentational State Transfer</strong>, it is a software architecture style of the web created in 2000 by <a href="https://roy.gbiv.com/">Roy Fielding</a> that follows these constraints:</p>
<ul>
<li>Client-server communication</li>
<li>Stateless protocol</li>
<li>Caching data</li>
<li>Uniform interface</li>
<li>Layered system</li>
<li>Code on demand</li>
</ul>
<p>An API that follows REST design principle will be called RESTful API. Simply to say, REST API is an application interface that forms a communication between client and server where the main communication channel will be through HTTPS protocol.</p>
<p>That’s all for the definition, no more talking, and let’s go to the list of best practices to design a good API.</p>
<h2>1. Naming Convention</h2>
<p><em>It’s all about naming, my friend</em>. Yes, one of the most crucial point every developer face during the work that defines a good name for their variables. And now, that pain point is coming to designing your API. Luckily, there are rules you can follow to know whether your API is named correctly.</p>
<h3>Avoiding Verbs, use Nouns instead</h3>
<p>Whenever possible, your endpoint should always use nouns instead of verbs. This design’s purpose is to avoid confusion to the user when the API methods already verbs (we will talk about this in a later section)</p>
<h3>Group related resources to nested endpoint</h3>
<p>When deciding on an endpoint, it is important to know that the endpoint contains correct and related information so that the user understands the API they are using points to the correct resource they want to interact with. One good practice you can easily follow here is that you design endpoints based on your database entity public resources you want your user to access.</p>
<p>For example, if you have an <code>Article </code>table on your database then you can design your endpoint like <code>yourdomain/articles</code>.</p>
<p>The following point I want to mention is if your object contains smaller objects – a <code>Comment </code>object for example. Then it is advisable to append the sub-object to your parent object so the group of related information can locate in the same structure so that the user easy to understands your API purpose.</p>
<p>Back to <code>Article </code> object above example, if you want to have the substructure for Article object then your API endpoint now will look like this: <code>yourdomain/articles/:articleId/comments</code>.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tuj4wvru7pl3h4gh7lr3.png" alt="good API endpoint example"></p>
<h2>2. Using Correct HTTP Semantics</h2>
<p>REST API is built dedicated to HTTP protocol and because of that, HTTP protocol provides us a list of handy request methods that we can use to describe our purpose for the API request. The most commonly used HTTP methods included: GET, POST, PUT, and DELETE, or we can call these methods <a href="https://en.wikipedia.org/wiki/Create,_read,_update_and_delete">CRUD</a> operations. And as you can see, ALL of them are verbs (that is why it is recommended to not use verbs on naming your endpoint).</p>
<p>The meaning of each request method:</p>
<ol>
<li><strong>GET</strong>: Request to retrieve a specific resource that matched your request endpoint. The response body of this request includes detailed information about that resource.</li>
<li><strong>POST</strong>: Submit a form of data to create a resource for the requested endpoint. Sometimes this method can be used to trigger a specific action that doesn’t create anything.</li>
<li><strong>PUT</strong>: This request method can be used either to update or replace the existing resource on your server.</li>
<li><strong>DELETE</strong>: the name of this request method already mentions its usage. This one is used to remove a specific resource based on the endpoint of the request.</li>
</ol>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ikwrz486ugyr4xvm0fo7.png" alt="HTTP methods example"></p>
<h2>3. Clear Documentation</h2>
<p>When you develop your REST API and expose them to your users, it is very important to provide them with good documentation so that your users can understand your API capability and know how to interact with your API. Good API documentation should follow these criteria:</p>
<ol>
<li>Provide related endpoints that the users need.</li>
<li>Example for every possible parameter.</li>
<li>Should contain information about possible responses including the body and HTTP code.</li>
<li>Should have a description that describes the use of that API.</li>
<li>The document should easy to access in common formats like JSON, YAML, etc</li>
<li>If possible, your API should have the ability to interact so that users can easily playground with them.</li>
</ol>
<p>When come to API design, the <a href="https://junedang.com/every-developer-should-learn-how-to-use-these-applications/">tools</a> that I mostly recommend developers use are <a href="https://swagger.io/">Swagger</a> for documenting your API and <a href="https://www.postman.com/">POSTMAN</a> for testing.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/o163byliqwzt48yhpyct.png" alt="API documentation example"></p>
<h2>4. Handling Errors and Responses Based on HTTP Code</h2>
<p>HTTP specification has come with HTTP response status codes system where it tells you your request has successfully completed or failed. From these response codes, your front-end system can easily detect and react to the correct response from the server. The response codes are grouped into five categories:</p>
<h3>Information codes (100 – 199)</h3>
<p>Those response codes tell the client that their request is received and processed by the server. The most common codes in this group included:</p>
<ul>
<li><strong>100 Continue</strong>: The server has received the request headers and the client should proceed to send the request body.</li>
<li><strong>101 Switching Protocols</strong>: The server is switching protocols, such as from HTTP to WebSocket, and the client should switch too.</li>
</ul>
<h3>Successful codes (200 – 299)</h3>
<p>When receiving this code it means that your HTTP request is successfully handled by the server and the response data is sent back to the client. The most common codes in this group included:</p>
<ul>
<li><strong>200 OK</strong>: The request was successful, and the server has returned the requested data or resource.</li>
<li><strong>201 Created</strong>: The request was successful, and a new resource has been created on the server.</li>
<li><strong>204 No Content</strong>: The request was successful, but there is no data to return in the response body.</li>
</ul>
<h3>Redirection codes (300 – 399)</h3>
<p>These codes indicate that your request has been received and the server move your request to the right responding resource, then the client should communicate with the new redirect resource. The most common codes in this group included:</p>
<ul>
<li><strong>301 Moved Permanently</strong>: The requested resource has been permanently moved to a new URL. The client should update its bookmarks or links to the new URL.</li>
</ul>
<h3>Client error codes (400 – 499)</h3>
<p>The meaning of these response codes tells clients that their requests have been invalid due to mistakes like Unauthorized, incorrect request data, forbidden requests, etc… Most common codes in this group included:</p>
<ul>
<li><strong>400 Bad Request</strong>: The server could not understand the request sent by the client due to invalid syntax.</li>
<li><strong>401 Unauthorized</strong>: The client needs to provide valid authentication credentials to access.</li>
<li><strong>403 Forbidden</strong>: The client does not have sufficient permissions to access the requested resource.</li>
<li><strong>404 Not Found</strong>: The requested resource could not be found.</li>
</ul>
<h3>Server error codes (500 – 599)</h3>
<p>Unlike the above response codes where errors are expected from the backend, the 5xx response codes are returned when unexpected errors happen on the server side. The most common codes in this group included:</p>
<ul>
<li><strong>500 Internal Server Error</strong>: The server encountered an unexpected condition that prevented it from fulfilling the request.</li>
<li><strong>502 Bad Gateway</strong>: The server acting as a gateway or proxy received an invalid response from the upstream server.</li>
</ul>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/aizqgb43u6zgpx6hlh47.png" alt="HTTP status code"></p>
<h3>5. Allowing Interaction on APIs</h3>
<p>A final best practice I want to mention here is that API is the way clients interact with the server and so it should provide a way for clients to use the API in the way they want through parameters.</p>
<p>Most of the time, resources returned from the APIs are data queried from the database. And data from the database can be very large which exposes that amount of data in a single API request call can lead to performance problems, especially when users only need the subset of data. Therefore, consider adding the paginate functionality to your API to improve performance and avoid confusion among users when dealing with enormous amount of data.</p>
<p>Another way to improve performance and user experience when using our API is by allowing filtering data by passing queries into the API. You can handle the filtering based on the attributes of the data you send to users. For example, having a list of products with name field, then you can allow users to filter out the products with the name they want.</p>
<p>Also, consider your clients want the data they retrieve to be in order for the displaying purpose. To achieve that, we can provide a query param that accepts which field they want to sort and in which order they want. For example <code>yourdomain/products?sort=+name</code>. Where + means ascending and – means the opposite.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/qo0dnxkv0vgz9xq94dj6.png" alt="API Interaction"></p>
<h2>Conclusion</h2>
<p>APIs are one of the most important factors of nowadays applications. Understanding how to design a good API can help your application improve its usability, productivity, and better in scale over time.</p>
<p>The most important key takeaway in API design is following nouns in naming your endpoints and using the correct HTTP methods for the correct API purpose.</p>
<p>Usability should be taken care keeps your API in up-to-date documentation and also handle responses and errors at the correct conversion.</p>
<p>Also, the performance should consider by able your API to have query params for sorting, filtering, and paginating.</p>
<hr>
<p>Thank you for reading, if you like this content feel free to like and share to spread the knowledge.</p>
<p>The original article was published on APRIL 08, 2023 at <a href="https://junedang.com/a-fundamental-guide-for-designing-good-rest-api/">junedang.com</a></p>
